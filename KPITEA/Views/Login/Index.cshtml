@using KPITEA.Entities.ViewModel
@model LoginViewModel
@{
    ViewBag.Title = "Log in";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
<script src="~/Scripts/jquery-3.3.1.js"></script>
<script>
    function Login() {
        valid = validateLogin();
        if (valid) {
           
        }
    }
    $(document).ready(function () {



    });
</script>

<h2>@ViewBag.Title</h2>
<div id="form-Login">
    <div class="row">
        <div class="col-md-8">
            <section id="loginForm">
                @using (Html.BeginForm("ValidateUserCredentials", "Login", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
                    {
            
                <div class="form-group">
                    @Html.LabelFor(m => m.Email, new { @class = "col-md-2 control-label" })
                    <div class="col-md-10">
                        <input type="text" name="Email" id="Email" class="demoInputBox" required="true">
                        @*@Html.TextBoxFor(m => m.Email, new { @class = "form-control" })
                            @Html.ValidationMessageFor(m => m.Email, "", new { @class = "text-danger" })*@
                    </div>
                </div>
                <div class="form-group">

                    @Html.LabelFor(m => m.Password, new { @class = "col-md-2 control-label" })
                    <div class="col-md-10">
                        <input type="password" name="Password" id="Password" class="demoInputBox" required="true">
                        @*@Html.PasswordFor(m => m.Password, new { @class = "form-control" })
                            @Html.ValidationMessageFor(m => m.Password, "", new { @class = "text-danger" })*@
                    </div>
                </div>
              
                <div class="form-group">
                    <div class=" col-md-10">
                        <input type="submit" value="Log in" class="btn btn-default" onclick="Login();" />
                        <br /><br />
                        @Html.ActionLink("Register as a new user", "Register")
                    </div>
                </div>

              
                }
            </section>
        </div>
        <div class="col-md-4">
            <section id="socialLoginForm">
                @*@Html.Partial("_ExternalLoginsListPartial", new ExternalLoginListViewModel { ReturnUrl = ViewBag.ReturnUrl })*@
            </section>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-2.1.1.min.js" type="text/javascript"></script>
<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
<script>
    function validateLogin() {
        var valid = true;

        $("#form-Login input[required=true]").each(function () {

            $(this).removeClass('invalid');
            $(this).attr('title', '');

            var input = $(this)[0].id

            if (input == "Email") {
                if ($(this).attr("type") == "text" && $(this).val().length == 0) {
                    $(this).addClass('invalid');
                    $(this).attr('title', 'Email ID is Required');
                    valid = false;
                }
            }



            if (input == "Password") {
                if ($(this).attr("type") == "password" && $(this).val().length == 0) {
                    $(this).addClass('invalid');
                    $(this).attr('title', 'Password is Required');
                    valid = false;
                }
            }
        });
        return valid;
    }

    $(function () {
        $(document).tooltip({
            position: { my: "left top", at: "right top" },
            items: "input[required=true], textarea[required=true]",
            content: function () { return $(this).attr("title"); }
        });


    });

</script>
<style>
    #form-Login {
        border-top: #F0F0F0 2px solid;
        /*background: #FAF8F8;*/
        padding: 10px;
    }

        #form-Login div {
            margin-bottom: 15px;
        }

            #form-Login div label {
                margin-left: 5px;
            }

    .demoInputBox {
        padding: 10px;
        border: #F0F0F0 1px solid;
        border-radius: 4px;
        width: 100%;
    }

    .btnAction {
        background-color: #2FC332;
        border: 0;
        padding: 10px 40px;
        color: #FFF;
        border: #F0F0F0 1px solid;
        border-radius: 4px;
    }
</style>
<style>
    .invalid {
        border: #FF0000 1px solid;
    }

    .ui-tooltip {
        padding: 10px;
        color: #333;
        font-size: 12px;
        background: #FFA500;
    }
</style>


